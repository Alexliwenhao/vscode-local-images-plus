{
  "name": "vscode-local-images-plus",
  "displayName": "Local Images Plus",
  "description": "Downloads media files from external links and save them locally",
  "version": "1.0.0",
  "publisher": "Alexliwenhao",
  "repository": {
    "type": "git",
    "url": "https://github.com/Alexliwenhao/vscode-local-images-plus.git"
  },
  "icon": "images/icon.png",
  "galleryBanner": {
    "color": "#C80000",
    "theme": "dark"
  },
  "keywords": [
    "markdown",
    "images",
    "download",
    "local"
  ],
  "license": "MIT",
  "engines": {
    "vscode": "^1.85.0"
  },
  "categories": [
    "Other"
  ],
  "activationEvents": [
    "onLanguage:markdown"
  ],
  "main": "./dist/extension.js",
  "files": [
    "dist",
    "README.md",
    "LICENSE"
  ],
  "contributes": {
    "commands": [
      {
        "command": "local-images-plus.downloadMedia",
        "title": "Local Images Plus: Download Media from Clipboard"
      },
      {
        "command": "local-images-plus.convertImages",
        "title": "Local Images Plus: Convert Images to PNG"
      },
      {
        "command": "local-images-plus.cleanOrphaned",
        "title": "Local Images Plus: Clean Orphaned Attachments"
      }
    ],
    "configuration": {
      "title": "Local Images Plus",
      "properties": {
        "localImagesPlus.attachmentFolder": {
          "type": "string",
          "default": "assets",
          "description": "Attachment folder name relative to document"
        },
        "localImagesPlus.jpegQuality": {
          "type": "number",
          "default": 80,
          "minimum": 1,
          "maximum": 100,
          "description": "JPEG conversion quality (1-100)"
        },
        "localImagesPlus.deduplicate": {
          "type": "boolean",
          "default": true,
          "description": "Enable file deduplication using MD5"
        },
        "localImagesPlus.saveAttE": {
          "type": "string",
          "enum": ["obsFolder", "inFolderBelow", "nextToNoteS"],
          "default": "nextToNoteS",
          "description": "Where to save attachments"
        },
        "localImagesPlus.mediaRootDir": {
          "type": "string",
          "default": "assets",
          "description": "Media root directory name"
        },
        "localImagesPlus.PngToJpeg": {
          "type": "boolean",
          "default": false,
          "description": "Convert PNG to JPEG automatically"
        },
        "localImagesPlus.JpegQuality": {
          "type": "number",
          "default": 80,
          "minimum": 1,
          "maximum": 100,
          "description": "JPEG quality for PNG conversion"
        },
        "localImagesPlus.useMarkdownLinks": {
          "type": "boolean",
          "default": false,
          "description": "Use markdown links instead of image tags"
        },
        "localImagesPlus.useCaptions": {
          "type": "boolean",
          "default": true,
          "description": "Include captions in image tags"
        },
        "localImagesPlus.pathInTags": {
          "type": "string",
          "enum": ["fullDirPath", "onlyRelative", "baseFileName"],
          "default": "onlyRelative",
          "description": "How to write paths in tags"
        },
        "localImagesPlus.filesizeLimit": {
          "type": "number",
          "default": 0,
          "description": "File size limit in KB (0 for no limit)"
        },
        "localImagesPlus.downUnknown": {
          "type": "boolean",
          "default": false,
          "description": "Download files with unknown extensions"
        },
        "localImagesPlus.showNotifications": {
          "type": "boolean",
          "default": true,
          "description": "Show notifications"
        },
        "localImagesPlus.removeOrphansCompl": {
          "type": "boolean",
          "default": false,
          "description": "Remove orphaned files completely (not to trash)"
        },
        "localImagesPlus.processCreated": {
          "type": "boolean",
          "default": true,
          "description": "Process newly created files"
        },
        "localImagesPlus.realTimeUpdate": {
          "type": "boolean",
          "default": true,
          "description": "Process files in real time"
        },
        "localImagesPlus.realTimeUpdateInterval": {
          "type": "number",
          "default": 5,
          "minimum": 1,
          "description": "Real time update interval in seconds"
        },
        "localImagesPlus.dateFormat": {
          "type": "string",
          "default": "YYYY-MM-DD",
          "description": "Date format pattern for attachment folder names"
        }
      }
    },
    "keybindings": [
      {
        "command": "local-images-plus.downloadMedia",
        "key": "ctrl+alt+v",
        "mac": "cmd+alt+v",
        "when": "editorTextFocus && editorLangId == 'markdown'"
      }
    ]
  },
  "scripts": {
    "vscode:prepublish": "npm run compile",
    "compile": "tsc -p ./",
    "watch": "tsc -watch -p ./",
    "lint": "eslint src --ext ts",
    "package": "vsce package",
    "publish": "vsce publish"
  },
  "devDependencies": {
    "@types/async-lock": "^1.4.2",
    "@types/crypto-js": "4.1.1",
    "@types/node": "^14.18.63",
    "@types/node-fetch": "^2.6.4",
    "@types/safe-regex": "^1.1.2",
    "@types/vscode": "^1.85.0",
    "@typescript-eslint/eslint-plugin": "^5.0.0",
    "@typescript-eslint/parser": "^5.0.0",
    "typescript": "^4.2.4"
  },
  "dependencies": {
    "async-lock": "^1.4.1",
    "crypto-js": "^4.1.1",
    "file-type": "^16.5.3",
    "is-svg": "^4.3.1",
    "jimp": "^0.22.12",
    "moment": "^2.30.1",
    "node-fetch": "^2.7.0",
    "safe-regex": "^2.1.1"
  }
}
